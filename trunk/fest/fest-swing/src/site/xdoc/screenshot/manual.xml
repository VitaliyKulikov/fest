<?xml version="1.0" encoding="UTF-8"?>
<document>

  <properties>
    <title>Taking Desktop Screenshots Manually</title>
  </properties>

  <body>
    <section name="Taking Desktop Screenshots Manually">
      <p>
			  Taking a screenshot of the desktop is quite simple. The class 
			  <code class="code">org.fest.swing.image.ScreenshotTaker</code> provides two methods:
      </p>
      <p>
        <ol>
          <li>
            &quot;<code class="code">takeDesktopScreenshot()</code>&quot; takes a screenshot of the desktop and 
            returns it as a <code class="code">java.awt.image.BufferedImage</code>.
          </li>
          <li>
            &quot;<code class="code">saveDesktopAsPng(String)</code>&quot; takes a screenshot of the desktop and
            saves it as a PNG image using the file path passed as argument.
          </li>
        </ol>
      </p>
      <subsection name="Example">
        <p>
          The following example takes a screenshot of the desktop when a test fails and saves the image as 
          &quot;myTest.png&quot;:
          <pre class="prettyprint">
<span class="typ">ScreenshotTaker</span> screenshotTaker = <span class="kwd">new</span>&#160;<span class="fnc">ScreenshotTaker</span>();          
          
<span class="com">// import static org.fest.util.Files.currentFolder;</span>&#160; 
<span class="typ">String</span> currentFolderPath = <span class="fnc">currentFolder</span>().<span class="fnc">getCanonicalPath</span>();

<span class="com">// import static java.io.File.separator</span>&#160;          
<span class="typ">File</span> imageFolder = <span class="kwd">new</span>&#160;<span class="fnc">File</span>(currentFolderPath + separator + <span class="str">&quot;failed-tests&quot;</span>))
<span class="typ">String</span> imageFolderPath = imageFolder.<span class="fnc">getCanonicalPath</span>() + separator;

<span class="kwd">try</span> {
<span class="com">// perform your test</span>
} <span class="kwd">catch</span> (<span class="typ">Exception</span> e) {
  <span class="com">// test failed</span>
  screenshotTaker.<span class="fnc">saveDesktopAsPng</span>(imageFolderPath + <span class="str">&quot;myTest.png&quot;</span>);
  <span class="kwd">throw</span> e;
}</pre>       
        </p>
      </subsection>
    </section>
  </body>
</document>  
