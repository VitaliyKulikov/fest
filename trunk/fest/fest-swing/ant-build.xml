<?xml version="1.0"?>
<project name="fest-swing" default="all" basedir="." xmlns:artifact="urn:maven-artifact-ant">

  <import file="../build-template.xml"/>

  <target name="install-abbot">
    <property name="abbot.maven.dir" value="${basedir}/abbot-maven"/>

    <path id="maven.classpath">
      <pathelement location="../maven/maven-ant-tasks-2.0.6.jar" />
    </path>

    <typedef resource="org/apache/maven/artifact/ant/antlib.xml" uri="urn:maven-artifact-ant">
      <classpath refid="maven.classpath" />
    </typedef>

    <artifact:pom file="${abbot.maven.dir}/pom.xml" id="maven.abbot.project" />
    <artifact:install file="${abbot.maven.dir}/abbot-1.0.0.rc5.jar">
      <pom refid="maven.abbot.project" />
      <artifact:localRepository id="local.repository" location="${maven.repository.local}" layout="default" />
    </artifact:install>
  </target>

  <target name="javadoc" depends="init" description="Create the API documentation">
    <mkdir dir="${target.javadocs.dir}" />
    <property name="copyright" value="Copyright &#169; 2007. All Rights Reserved." />
    <javadoc destdir="${target.javadocs.dir}"
             author="true"
             version="true"
             windowtitle="${maven.project.artifactId} v. ${maven.project.version} API"
             doctitle="${maven.project.artifactId} v. ${maven.project.version}"
             bottom="${copyright}">
      <classpath>
        <pathelement location="${target.classes.dir}" />
        <pathelement location="${target.test.classes.dir}" />
        <pathelement path="${lib.classpath}" />
      </classpath>
      <sourcepath>
        <pathelement location="${src.java.main.dir}" />
      </sourcepath>
      <packageset dir="${src.java.main.dir}">
        <include name="**/*" />
      </packageset>
      <link href="http://java.sun.com/j2se/1.5.0/docs/api/" />
    </javadoc>
  </target>
</project>
